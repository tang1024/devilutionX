<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Devilution: Source/spells.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Devilution
   </div>
   <div id="projectbrief">Diablo devolved - magic behind the 1996 computer game</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">spells.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="spells_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="all_8h.html">all.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<a class="code" href="namespace_d_e_v_i_l_u_t_i_o_n___b_e_g_i_n___n_a_m_e_s_p_a_c_e.html">DEVILUTION_BEGIN_NAMESPACE</a></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="spells_8h_ab76f51ea1c8d37802f8607f4c36e6ee5.html#ab76f51ea1c8d37802f8607f4c36e6ee5">    5</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="spells_8cpp_a49bffabdd9106638a08de4291ea7b9da.html#a49bffabdd9106638a08de4291ea7b9da">GetManaAmount</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> sn)</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;{</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="keywordtype">int</span> ma; <span class="comment">// mana amount</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="comment">// mana adjust</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <span class="keywordtype">int</span> adj = 0;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="comment">// spell level</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="keywordtype">int</span> sl = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[id].<a class="code" href="struct_player_struct_af0d36c529da6444a90e57f5920e78924.html#af0d36c529da6444a90e57f5920e78924">_pSplLvl</a>[sn] + <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[id].<a class="code" href="struct_player_struct_a7ad004ea768e63b9afb0bb2e9606382f.html#a7ad004ea768e63b9afb0bb2e9606382f">_pISplLvlAdd</a> - 1;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="keywordflow">if</span> (sl &lt; 0) {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        sl = 0;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    }</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keywordflow">if</span> (sn == <a class="code" href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875abaf75bcef4a1ff7824afb0df62992040">SPL_FIREBOLT</a>) {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        adj &gt;&gt;= 1;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sn == <a class="code" href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875ad9bfd88eb6f603da55715367756d5c10">SPL_RESURRECT</a> &amp;&amp; sl &gt; 0) {</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        adj = sl * (<a class="code" href="spelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f.html#ade4eb9170cd55058ea79d6dcdbdcec0f">spelldata</a>[<a class="code" href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875ad9bfd88eb6f603da55715367756d5c10">SPL_RESURRECT</a>].<a class="code" href="struct_spell_data_a9e3b9c2ee7bcb9a99949b57202b49520.html#a9e3b9c2ee7bcb9a99949b57202b49520">sManaCost</a> / 8);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sl &gt; 0) {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        adj = sl * <a class="code" href="spelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f.html#ade4eb9170cd55058ea79d6dcdbdcec0f">spelldata</a>[sn].<a class="code" href="struct_spell_data_a86831f8bc6a7dba41d992113017bb1f9.html#a86831f8bc6a7dba41d992113017bb1f9">sManaAdj</a>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    }</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">if</span> (sn == <a class="code" href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875a1d736001b0cfffef78cf6b20e44c31c2">SPL_HEAL</a> || sn == <a class="code" href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875aa3686831c11ddd20900d27fa62f489dd">SPL_HEALOTHER</a>) {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        ma = (<a class="code" href="spelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f.html#ade4eb9170cd55058ea79d6dcdbdcec0f">spelldata</a>[<a class="code" href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875a1d736001b0cfffef78cf6b20e44c31c2">SPL_HEAL</a>].<a class="code" href="struct_spell_data_a9e3b9c2ee7bcb9a99949b57202b49520.html#a9e3b9c2ee7bcb9a99949b57202b49520">sManaCost</a> + 2 * <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[id].<a class="code" href="struct_player_struct_a4032bdf41e44aef36e089b2b99ec73f7.html#a4032bdf41e44aef36e089b2b99ec73f7">_pLevel</a> - adj);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="spelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f.html#ade4eb9170cd55058ea79d6dcdbdcec0f">spelldata</a>[sn].sManaCost == 255) {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        ma = ((BYTE)<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[<span class="keywordtype">id</span>]._pMaxManaBase - adj);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        ma = (<a class="code" href="spelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f.html#ade4eb9170cd55058ea79d6dcdbdcec0f">spelldata</a>[sn].<a class="code" href="struct_spell_data_a9e3b9c2ee7bcb9a99949b57202b49520.html#a9e3b9c2ee7bcb9a99949b57202b49520">sManaCost</a> - adj);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    }</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">if</span> (ma &lt; 0)</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        ma = 0;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    ma &lt;&lt;= 6;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[<span class="keywordtype">id</span>]._pClass == <a class="code" href="enums_8h_a8ee116187ae3f3e815df80437d3888f5.html#a8ee116187ae3f3e815df80437d3888f5ac59d4aac6855824f812447d70cca7991">PC_ROGUE</a>) {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        ma -= ma &gt;&gt; 2;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="spelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f.html#ade4eb9170cd55058ea79d6dcdbdcec0f">spelldata</a>[sn].sMinMana &gt; ma &gt;&gt; 6) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        ma = <a class="code" href="spelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f.html#ade4eb9170cd55058ea79d6dcdbdcec0f">spelldata</a>[sn].<a class="code" href="struct_spell_data_a0730e1655711f84a308ac0ea6094c676.html#a0730e1655711f84a308ac0ea6094c676">sMinMana</a> &lt;&lt; 6;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    }</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">return</span> ma * (100 - <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[id].<a class="code" href="struct_player_struct_a1fa7cfb4583c61362adacd956d526bf4.html#a1fa7cfb4583c61362adacd956d526bf4">_pISplCost</a>) / 100;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="spells_8h_a3bad0c5aeab4bbb91828710278a23e50.html#a3bad0c5aeab4bbb91828710278a23e50">   50</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="spells_8cpp_a3bad0c5aeab4bbb91828710278a23e50.html#a3bad0c5aeab4bbb91828710278a23e50">UseMana</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> sn)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordtype">int</span> ma; <span class="comment">// mana cost</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == <a class="code" href="player_8cpp_aa35efb91cea373f099ba55c14b0a707b.html#aa35efb91cea373f099ba55c14b0a707b">myplr</a>) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[<span class="keywordtype">id</span>]._pSplType) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="enums_8h_a2135e50f939c526eb0a4164754e6e4ff.html#a2135e50f939c526eb0a4164754e6e4ffade40289cd966fbeaf8ddc20e258456a4">RSPLTYPE_SKILL</a>:</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="enums_8h_a2135e50f939c526eb0a4164754e6e4ff.html#a2135e50f939c526eb0a4164754e6e4ffa00a2f0e75fbaea8654865ac0a002115d">RSPLTYPE_INVALID</a>:</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="enums_8h_a2135e50f939c526eb0a4164754e6e4ff.html#a2135e50f939c526eb0a4164754e6e4ffa3fb4d9a512200814473ed06e9f51c72d">RSPLTYPE_SCROLL</a>:</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <a class="code" href="inv_8cpp_a8c14a01e4cd01c1a2187591667993172.html#a8c14a01e4cd01c1a2187591667993172">RemoveScroll</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="enums_8h_a2135e50f939c526eb0a4164754e6e4ff.html#a2135e50f939c526eb0a4164754e6e4ffa5bccb54408970df5ebc15a83132e8c58">RSPLTYPE_CHARGES</a>:</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <a class="code" href="inv_8cpp_ad11ef71bb215c283cd4bb25df35c267f.html#ad11ef71bb215c283cd4bb25df35c267f">UseStaffCharge</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="enums_8h_a2135e50f939c526eb0a4164754e6e4ff.html#a2135e50f939c526eb0a4164754e6e4ffa3d54494d4674671ceef8858ccbd2ca2c">RSPLTYPE_SPELL</a>:</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordflow">if</span> (!debug_mode_key_inverted_v) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                ma = <a class="code" href="spells_8cpp_a49bffabdd9106638a08de4291ea7b9da.html#a49bffabdd9106638a08de4291ea7b9da">GetManaAmount</a>(<span class="keywordtype">id</span>, sn);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[id].<a class="code" href="struct_player_struct_a2b377a09f91efe0629299eb86cbc0516.html#a2b377a09f91efe0629299eb86cbc0516">_pMana</a> -= ma;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[id].<a class="code" href="struct_player_struct_a494a578df987703272edc16c5cc1df46.html#a494a578df987703272edc16c5cc1df46">_pManaBase</a> -= ma;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                <a class="code" href="control_8cpp_af5e0480b5bc83fb6a24491e31e1bdeec.html#af5e0480b5bc83fb6a24491e31e1bdeec">drawmanaflag</a> = TRUE;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="spells_8h_a511a7467d83e97c8e3db14f78620b732.html#a511a7467d83e97c8e3db14f78620b732">   81</a></span>&#160;BOOL <a class="code" href="spells_8cpp_a511a7467d83e97c8e3db14f78620b732.html#a511a7467d83e97c8e3db14f78620b732">CheckSpell</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> sn, <span class="keywordtype">char</span> st, BOOL manaonly)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    BOOL result;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (debug_mode_key_inverted_v)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    result = TRUE;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (!manaonly &amp;&amp; <a class="code" href="cursor_8cpp_ae390fe49a102340ffe3244dfa7b217ef.html#ae390fe49a102340ffe3244dfa7b217ef">pcurs</a> != <a class="code" href="enums_8h_a58d5b5088647ec81bd4459f05219f7af.html#a58d5b5088647ec81bd4459f05219f7afab9cc14e53520d5cf4c5425d6b0b335b0">CURSOR_HAND</a>) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        result = FALSE;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">if</span> (st != <a class="code" href="enums_8h_a2135e50f939c526eb0a4164754e6e4ff.html#a2135e50f939c526eb0a4164754e6e4ffade40289cd966fbeaf8ddc20e258456a4">RSPLTYPE_SKILL</a>) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="missiles_8cpp_a78e232f1263e0ff641e5e108e7ddae01.html#a78e232f1263e0ff641e5e108e7ddae01">GetSpellLevel</a>(<span class="keywordtype">id</span>, sn) &lt;= 0) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                result = FALSE;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                result = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[id].<a class="code" href="struct_player_struct_a2b377a09f91efe0629299eb86cbc0516.html#a2b377a09f91efe0629299eb86cbc0516">_pMana</a> &gt;= <a class="code" href="spells_8cpp_a49bffabdd9106638a08de4291ea7b9da.html#a49bffabdd9106638a08de4291ea7b9da">GetManaAmount</a>(<span class="keywordtype">id</span>, sn);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="spells_8h_aee54ff50ef1fe1f953719a2bb3b0b2f3.html#aee54ff50ef1fe1f953719a2bb3b0b2f3">  106</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="spells_8cpp_aee54ff50ef1fe1f953719a2bb3b0b2f3.html#aee54ff50ef1fe1f953719a2bb3b0b2f3">CastSpell</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> spl, <span class="keywordtype">int</span> sx, <span class="keywordtype">int</span> sy, <span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy, <span class="keywordtype">int</span> caster, <span class="keywordtype">int</span> spllvl)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">int</span> dir; <span class="comment">// missile direction</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">switch</span> (caster) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        dir = <a class="code" href="monster_8cpp_ac39cec74ce0be0aa4f515450883afb93.html#ac39cec74ce0be0aa4f515450883afb93">monster</a>[id].<a class="code" href="struct_monster_struct_ae307136b9dd4b00c55caa72bbbd99257.html#ae307136b9dd4b00c55caa72bbbd99257">_mdir</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="comment">// caster must be 0 already in this case, but oh well,</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="comment">// it&#39;s needed to generate the right code</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        caster = 0;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        dir = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[id].<a class="code" href="struct_player_struct_ab6299798b2b5c4210a2941521207f394.html#ab6299798b2b5c4210a2941521207f394">_pdir</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">if</span> (spl == <a class="code" href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875afb869a25e95ba86d727dbb0a8438cfb7">SPL_FIREWALL</a>) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            dir = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[id].<a class="code" href="struct_player_struct_a613e8e59ddb99ccfa31408f7bfd053a7.html#a613e8e59ddb99ccfa31408f7bfd053a7">_pVar3</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">for</span> (i = 0; <a class="code" href="spelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f.html#ade4eb9170cd55058ea79d6dcdbdcec0f">spelldata</a>[spl].<a class="code" href="struct_spell_data_a42cf8671e395ea52538e71b26643f928.html#a42cf8671e395ea52538e71b26643f928">sMissiles</a>[i] != <a class="code" href="enums_8h_ac3964a518b32bf2faf3221dbe621f3ff.html#ac3964a518b32bf2faf3221dbe621f3ffa2dccac21169edde07c403dc1bf66b398">MIS_ARROW</a> &amp;&amp; i &lt; 3; i++) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <a class="code" href="missiles_8cpp_ab43889bb4c3e155131344435c4cc4079.html#ab43889bb4c3e155131344435c4cc4079">AddMissile</a>(sx, sy, dx, dy, dir, <a class="code" href="spelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f.html#ade4eb9170cd55058ea79d6dcdbdcec0f">spelldata</a>[spl].sMissiles[i], caster, <span class="keywordtype">id</span>, 0, spllvl);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="spelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f.html#ade4eb9170cd55058ea79d6dcdbdcec0f">spelldata</a>[spl].sMissiles[0] == <a class="code" href="enums_8h_ac3964a518b32bf2faf3221dbe621f3ff.html#ac3964a518b32bf2faf3221dbe621f3ffa94b24381791c5f2c2c88494ace9ae6b2">MIS_TOWN</a>) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="spells_8cpp_a3bad0c5aeab4bbb91828710278a23e50.html#a3bad0c5aeab4bbb91828710278a23e50">UseMana</a>(<span class="keywordtype">id</span>, <a class="code" href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875aa34f362cdba40212026453730fd83a0f">SPL_TOWN</a>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="spelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f.html#ade4eb9170cd55058ea79d6dcdbdcec0f">spelldata</a>[spl].sMissiles[0] == <a class="code" href="enums_8h_ac3964a518b32bf2faf3221dbe621f3ff.html#ac3964a518b32bf2faf3221dbe621f3ffa4ec028541c6cb20fa6f0f8bb283fde7d">MIS_CBOLT</a>) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="spells_8cpp_a3bad0c5aeab4bbb91828710278a23e50.html#a3bad0c5aeab4bbb91828710278a23e50">UseMana</a>(<span class="keywordtype">id</span>, <a class="code" href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875af58399b94d38133457ed029bd49d66f4">SPL_CBOLT</a>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">for</span> (i = (spllvl &gt;&gt; 1) + 3; i &gt; 0; i--) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <a class="code" href="missiles_8cpp_ab43889bb4c3e155131344435c4cc4079.html#ab43889bb4c3e155131344435c4cc4079">AddMissile</a>(sx, sy, dx, dy, dir, <a class="code" href="enums_8h_ac3964a518b32bf2faf3221dbe621f3ff.html#ac3964a518b32bf2faf3221dbe621f3ffa4ec028541c6cb20fa6f0f8bb283fde7d">MIS_CBOLT</a>, caster, <span class="keywordtype">id</span>, 0, spllvl);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="spells_8cpp_a7ab5b6384dccfbe8c3f91267e839c07e.html#a7ab5b6384dccfbe8c3f91267e839c07e">  143</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="spells_8cpp_a7ab5b6384dccfbe8c3f91267e839c07e.html#a7ab5b6384dccfbe8c3f91267e839c07e">PlacePlayer</a>(<span class="keywordtype">int</span> pnum)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordtype">int</span> nx, ny, max, min, x, y;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    DWORD i;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    BOOL done;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[pnum].plrlevel == <a class="code" href="gendung_8cpp_aa6832e5839fc1e71c01d42aa85dc4e56.html#aa6832e5839fc1e71c01d42aa85dc4e56">currlevel</a>) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; 8; i++) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            nx = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[pnum].<a class="code" href="struct_player_struct_a9aed7887ac4c324e5b061548bd03a5c8.html#a9aed7887ac4c324e5b061548bd03a5c8">WorldX</a> + <a class="code" href="player_8cpp_ad1132c63010bc44a380ac35d0514ab0e.html#ad1132c63010bc44a380ac35d0514ab0e">plrxoff2</a>[i];</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            ny = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[pnum].<a class="code" href="struct_player_struct_a3334296783d36bc7f0760aaa0c9cacd0.html#a3334296783d36bc7f0760aaa0c9cacd0">WorldY</a> + <a class="code" href="player_8cpp_aa889fee7d63cdb7a9da7475428390644.html#aa889fee7d63cdb7a9da7475428390644">plryoff2</a>[i];</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="player_8cpp_ac0b92f61e813be5ccdb495c5ee3bdf4b.html#ac0b92f61e813be5ccdb495c5ee3bdf4b">PosOkPlayer</a>(pnum, nx, ny)) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="player_8cpp_ac0b92f61e813be5ccdb495c5ee3bdf4b.html#ac0b92f61e813be5ccdb495c5ee3bdf4b">PosOkPlayer</a>(pnum, nx, ny)) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            done = FALSE;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordflow">for</span> (max = 1, min = -1; min &gt; -50 &amp;&amp; !done; max++, min--) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordflow">for</span> (y = min; y &lt;= max &amp;&amp; !done; y++) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    ny = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[pnum].<a class="code" href="struct_player_struct_a3334296783d36bc7f0760aaa0c9cacd0.html#a3334296783d36bc7f0760aaa0c9cacd0">WorldY</a> + y;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                    <span class="keywordflow">for</span> (x = min; x &lt;= max &amp;&amp; !done; x++) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                        nx = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[pnum].<a class="code" href="struct_player_struct_a9aed7887ac4c324e5b061548bd03a5c8.html#a9aed7887ac4c324e5b061548bd03a5c8">WorldX</a> + x;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="player_8cpp_ac0b92f61e813be5ccdb495c5ee3bdf4b.html#ac0b92f61e813be5ccdb495c5ee3bdf4b">PosOkPlayer</a>(pnum, nx, ny)) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                            done = TRUE;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[pnum].<a class="code" href="struct_player_struct_a9aed7887ac4c324e5b061548bd03a5c8.html#a9aed7887ac4c324e5b061548bd03a5c8">WorldX</a> = nx;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[pnum].<a class="code" href="struct_player_struct_a3334296783d36bc7f0760aaa0c9cacd0.html#a3334296783d36bc7f0760aaa0c9cacd0">WorldY</a> = ny;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="gendung_8cpp_ad83764377123e25492c6e1d58eec97bc.html#ad83764377123e25492c6e1d58eec97bc">dPlayer</a>[nx][ny] = pnum + 1;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">if</span> (pnum == <a class="code" href="player_8cpp_aa35efb91cea373f099ba55c14b0a707b.html#aa35efb91cea373f099ba55c14b0a707b">myplr</a>) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <a class="code" href="gendung_8cpp_aa4d84322e040e44781630e21e7722e13.html#aa4d84322e040e44781630e21e7722e13">ViewX</a> = nx;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <a class="code" href="gendung_8cpp_a1499ad2c9b7375364aaca1f278727847.html#a1499ad2c9b7375364aaca1f278727847">ViewY</a> = ny;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="spells_8h_a4b5bdca06892b509461c2e3f3475fd9f.html#a4b5bdca06892b509461c2e3f3475fd9f">  193</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="spells_8cpp_a4b5bdca06892b509461c2e3f3475fd9f.html#a4b5bdca06892b509461c2e3f3475fd9f">DoResurrect</a>(<span class="keywordtype">int</span> pnum, <span class="keywordtype">int</span> rid)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">int</span> hp;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">char</span>)rid != -1) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="missiles_8cpp_ab43889bb4c3e155131344435c4cc4079.html#ab43889bb4c3e155131344435c4cc4079">AddMissile</a>(<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].WorldX, <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].WorldY, <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].WorldX, <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].WorldY, 0, <a class="code" href="enums_8h_ac3964a518b32bf2faf3221dbe621f3ff.html#ac3964a518b32bf2faf3221dbe621f3ffaa27dc82bab48e6d51c68986773293a37">MIS_RESURRECTBEAM</a>, 0, pnum, 0, 0);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (pnum == <a class="code" href="player_8cpp_aa35efb91cea373f099ba55c14b0a707b.html#aa35efb91cea373f099ba55c14b0a707b">myplr</a>) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <a class="code" href="cursor_8cpp_a1b9cf6ebbcef674ef1c4c1c8744ae4f9.html#a1b9cf6ebbcef674ef1c4c1c8744ae4f9">NewCursor</a>(<a class="code" href="enums_8h_a58d5b5088647ec81bd4459f05219f7af.html#a58d5b5088647ec81bd4459f05219f7afab9cc14e53520d5cf4c5425d6b0b335b0">CURSOR_HAND</a>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">char</span>)rid != -1 &amp;&amp; <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid]._pHitPoints == 0) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">if</span> (rid == <a class="code" href="player_8cpp_aa35efb91cea373f099ba55c14b0a707b.html#aa35efb91cea373f099ba55c14b0a707b">myplr</a>) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <a class="code" href="player_8cpp_a7ac47f277cbf5a38a85cab4f17445a88.html#a7ac47f277cbf5a38a85cab4f17445a88">deathflag</a> = FALSE;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="gamemenu_8cpp_a44d7561ccc66eabe8af107d4cd9285a8.html#a44d7561ccc66eabe8af107d4cd9285a8">gamemenu_off</a>();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <a class="code" href="control_8cpp_a35e4d35ac25ed81b988292edb351b3f7.html#a35e4d35ac25ed81b988292edb351b3f7">drawhpflag</a> = TRUE;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <a class="code" href="control_8cpp_af5e0480b5bc83fb6a24491e31e1bdeec.html#af5e0480b5bc83fb6a24491e31e1bdeec">drawmanaflag</a> = TRUE;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <a class="code" href="player_8cpp_a49449be16fef6d842d9655c3af604863.html#a49449be16fef6d842d9655c3af604863">ClrPlrPath</a>(rid);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_ac8899f9784ab46f65822e446b68dfbfd.html#ac8899f9784ab46f65822e446b68dfbfd">destAction</a> = <a class="code" href="enums_8h_a15b03b1d71b001298165979475b1aa62.html#a15b03b1d71b001298165979475b1aa62abb516226f3df30c332c998da773f56db">ACTION_NONE</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_abf07e2fd0cc130d86b5b69a177d93c13.html#abf07e2fd0cc130d86b5b69a177d93c13">_pInvincible</a> = FALSE;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="spells_8cpp_a7ab5b6384dccfbe8c3f91267e839c07e.html#a7ab5b6384dccfbe8c3f91267e839c07e">PlacePlayer</a>(rid);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        hp = 640;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid]._pMaxHPBase &lt; 640) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            hp = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_ac72291eb8936eab4c8ca6af6a16c3876.html#ac72291eb8936eab4c8ca6af6a16c3876">_pMaxHPBase</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="player_8cpp_acf784e3b1e950b5abf35f60314515efc.html#acf784e3b1e950b5abf35f60314515efc">SetPlayerHitPoints</a>(rid, hp);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_aff6ad076dce0bf6f4cb0ff4438d84a11.html#aff6ad076dce0bf6f4cb0ff4438d84a11">_pHPBase</a> = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_ab2947fbaf11cb3095bf9de40e40922b0.html#ab2947fbaf11cb3095bf9de40e40922b0">_pHitPoints</a> + (<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_ac72291eb8936eab4c8ca6af6a16c3876.html#ac72291eb8936eab4c8ca6af6a16c3876">_pMaxHPBase</a> - <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_ab9c43de30068946bb929e9f69e44fb6d.html#ab9c43de30068946bb929e9f69e44fb6d">_pMaxHP</a>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_a2b377a09f91efe0629299eb86cbc0516.html#a2b377a09f91efe0629299eb86cbc0516">_pMana</a> = 0;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_a494a578df987703272edc16c5cc1df46.html#a494a578df987703272edc16c5cc1df46">_pManaBase</a> = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_a2b377a09f91efe0629299eb86cbc0516.html#a2b377a09f91efe0629299eb86cbc0516">_pMana</a> + (<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_a1029ffe8678ae49d980dc8778ed0f590.html#a1029ffe8678ae49d980dc8778ed0f590">_pMaxManaBase</a> - <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_ae526ebcf0d3ca6439b92e2496a8b4067.html#ae526ebcf0d3ca6439b92e2496a8b4067">_pMaxMana</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="items_8cpp_a36fdaa6ee7c842af02adcffd3882ad6f.html#a36fdaa6ee7c842af02adcffd3882ad6f">CalcPlrInv</a>(rid, TRUE);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].plrlevel == <a class="code" href="gendung_8cpp_aa6832e5839fc1e71c01d42aa85dc4e56.html#aa6832e5839fc1e71c01d42aa85dc4e56">currlevel</a>) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <a class="code" href="player_8cpp_a43aed1aba909ddcdbef5156cf8621f1a.html#a43aed1aba909ddcdbef5156cf8621f1a">StartStand</a>(rid, <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid]._pdir);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_adaeb034998fe856d472066051f7051ec.html#adaeb034998fe856d472066051f7051ec">_pmode</a> = <a class="code" href="enums_8h_aba95c76d44ba9d1691de48ca32820d0b.html#aba95c76d44ba9d1691de48ca32820d0bae653ce666d6a2083ce9a1a14d9509863">PM_STAND</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="spells_8h_ab2eebff4a477b1d65d3f5e5c612a5e1c.html#ab2eebff4a477b1d65d3f5e5c612a5e1c">  238</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="spells_8cpp_ab2eebff4a477b1d65d3f5e5c612a5e1c.html#ab2eebff4a477b1d65d3f5e5c612a5e1c">DoHealOther</a>(<span class="keywordtype">int</span> pnum, <span class="keywordtype">int</span> rid)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordtype">int</span> i, j, hp;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">if</span> (pnum == <a class="code" href="player_8cpp_aa35efb91cea373f099ba55c14b0a707b.html#aa35efb91cea373f099ba55c14b0a707b">myplr</a>) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="cursor_8cpp_a1b9cf6ebbcef674ef1c4c1c8744ae4f9.html#a1b9cf6ebbcef674ef1c4c1c8744ae4f9">NewCursor</a>(<a class="code" href="enums_8h_a58d5b5088647ec81bd4459f05219f7af.html#a58d5b5088647ec81bd4459f05219f7afab9cc14e53520d5cf4c5425d6b0b335b0">CURSOR_HAND</a>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">char</span>)rid != -1 &amp;&amp; (<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid]._pHitPoints &gt;&gt; 6) &gt; 0) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        hp = (<a class="code" href="engine_8cpp_a65a409ff0f68e49faff78affd2a1bf91.html#a65a409ff0f68e49faff78affd2a1bf91">random_</a>(57, 10) + 1) &lt;&lt; 6;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[pnum].<a class="code" href="struct_player_struct_a4032bdf41e44aef36e089b2b99ec73f7.html#a4032bdf41e44aef36e089b2b99ec73f7">_pLevel</a>; i++) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            hp += (<a class="code" href="engine_8cpp_a65a409ff0f68e49faff78affd2a1bf91.html#a65a409ff0f68e49faff78affd2a1bf91">random_</a>(57, 4) + 1) &lt;&lt; 6;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="missiles_8cpp_a78e232f1263e0ff641e5e108e7ddae01.html#a78e232f1263e0ff641e5e108e7ddae01">GetSpellLevel</a>(pnum, <a class="code" href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875aa3686831c11ddd20900d27fa62f489dd">SPL_HEALOTHER</a>); ++j) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            hp += (<a class="code" href="engine_8cpp_a65a409ff0f68e49faff78affd2a1bf91.html#a65a409ff0f68e49faff78affd2a1bf91">random_</a>(57, 6) + 1) &lt;&lt; 6;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[pnum]._pClass == <a class="code" href="enums_8h_a8ee116187ae3f3e815df80437d3888f5.html#a8ee116187ae3f3e815df80437d3888f5a91ff3fc37cabd8b1bd2b9f27d90bf3a8">PC_WARRIOR</a>) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            hp &lt;&lt;= 1;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[pnum]._pClass == <a class="code" href="enums_8h_a8ee116187ae3f3e815df80437d3888f5.html#a8ee116187ae3f3e815df80437d3888f5ac59d4aac6855824f812447d70cca7991">PC_ROGUE</a>) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            hp += hp &gt;&gt; 1;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_ab2947fbaf11cb3095bf9de40e40922b0.html#ab2947fbaf11cb3095bf9de40e40922b0">_pHitPoints</a> += hp;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid]._pHitPoints &gt; <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid]._pMaxHP) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_ab2947fbaf11cb3095bf9de40e40922b0.html#ab2947fbaf11cb3095bf9de40e40922b0">_pHitPoints</a> = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_ab9c43de30068946bb929e9f69e44fb6d.html#ab9c43de30068946bb929e9f69e44fb6d">_pMaxHP</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_aff6ad076dce0bf6f4cb0ff4438d84a11.html#aff6ad076dce0bf6f4cb0ff4438d84a11">_pHPBase</a> += hp;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid]._pHPBase &gt; <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid]._pMaxHPBase) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_aff6ad076dce0bf6f4cb0ff4438d84a11.html#aff6ad076dce0bf6f4cb0ff4438d84a11">_pHPBase</a> = <a class="code" href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a>[rid].<a class="code" href="struct_player_struct_ac72291eb8936eab4c8ca6af6a16c3876.html#ac72291eb8936eab4c8ca6af6a16c3876">_pMaxHPBase</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="control_8cpp_a35e4d35ac25ed81b988292edb351b3f7.html#a35e4d35ac25ed81b988292edb351b3f7">drawhpflag</a> = TRUE;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<a class="code" href="types_8h_a7ac6b37e8709aad82caeb9b65c8b2b6f.html#a7ac6b37e8709aad82caeb9b65c8b2b6f">DEVILUTION_END_NAMESPACE</a></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astruct_player_struct_a1fa7cfb4583c61362adacd956d526bf4_html_a1fa7cfb4583c61362adacd956d526bf4"><div class="ttname"><a href="struct_player_struct_a1fa7cfb4583c61362adacd956d526bf4.html#a1fa7cfb4583c61362adacd956d526bf4">PlayerStruct::_pISplCost</a></div><div class="ttdeci">char _pISplCost</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00330">structs.h:330</a></div></div>
<div class="ttc" id="astruct_player_struct_a494a578df987703272edc16c5cc1df46_html_a494a578df987703272edc16c5cc1df46"><div class="ttname"><a href="struct_player_struct_a494a578df987703272edc16c5cc1df46.html#a494a578df987703272edc16c5cc1df46">PlayerStruct::_pManaBase</a></div><div class="ttdeci">int _pManaBase</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00261">structs.h:261</a></div></div>
<div class="ttc" id="aplayer_8cpp_ac0b92f61e813be5ccdb495c5ee3bdf4b_html_ac0b92f61e813be5ccdb495c5ee3bdf4b"><div class="ttname"><a href="player_8cpp_ac0b92f61e813be5ccdb495c5ee3bdf4b.html#ac0b92f61e813be5ccdb495c5ee3bdf4b">PosOkPlayer</a></div><div class="ttdeci">BOOL PosOkPlayer(int pnum, int x, int y)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03475">player.cpp:3475</a></div></div>
<div class="ttc" id="aplayer_8cpp_acf784e3b1e950b5abf35f60314515efc_html_acf784e3b1e950b5abf35f60314515efc"><div class="ttname"><a href="player_8cpp_acf784e3b1e950b5abf35f60314515efc.html#acf784e3b1e950b5abf35f60314515efc">SetPlayerHitPoints</a></div><div class="ttdeci">void SetPlayerHitPoints(int pnum, int val)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03971">player.cpp:3971</a></div></div>
<div class="ttc" id="agendung_8cpp_aa6832e5839fc1e71c01d42aa85dc4e56_html_aa6832e5839fc1e71c01d42aa85dc4e56"><div class="ttname"><a href="gendung_8cpp_aa6832e5839fc1e71c01d42aa85dc4e56.html#aa6832e5839fc1e71c01d42aa85dc4e56">currlevel</a></div><div class="ttdeci">BYTE currlevel</div><div class="ttdef"><b>Definition:</b> <a href="gendung_8cpp_source.html#l00040">gendung.cpp:40</a></div></div>
<div class="ttc" id="astruct_player_struct_ab9c43de30068946bb929e9f69e44fb6d_html_ab9c43de30068946bb929e9f69e44fb6d"><div class="ttname"><a href="struct_player_struct_ab9c43de30068946bb929e9f69e44fb6d.html#ab9c43de30068946bb929e9f69e44fb6d">PlayerStruct::_pMaxHP</a></div><div class="ttdeci">int _pMaxHP</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00259">structs.h:259</a></div></div>
<div class="ttc" id="aenums_8h_a896cc85ca9e90a7778d08d6080be8875_html_a896cc85ca9e90a7778d08d6080be8875abaf75bcef4a1ff7824afb0df62992040"><div class="ttname"><a href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875abaf75bcef4a1ff7824afb0df62992040">SPL_FIREBOLT</a></div><div class="ttdeci">@ SPL_FIREBOLT</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02131">enums.h:2131</a></div></div>
<div class="ttc" id="astruct_player_struct_a2b377a09f91efe0629299eb86cbc0516_html_a2b377a09f91efe0629299eb86cbc0516"><div class="ttname"><a href="struct_player_struct_a2b377a09f91efe0629299eb86cbc0516.html#a2b377a09f91efe0629299eb86cbc0516">PlayerStruct::_pMana</a></div><div class="ttdeci">int _pMana</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00263">structs.h:263</a></div></div>
<div class="ttc" id="aenums_8h_a896cc85ca9e90a7778d08d6080be8875_html_a896cc85ca9e90a7778d08d6080be8875ad9bfd88eb6f603da55715367756d5c10"><div class="ttname"><a href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875ad9bfd88eb6f603da55715367756d5c10">SPL_RESURRECT</a></div><div class="ttdeci">@ SPL_RESURRECT</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02162">enums.h:2162</a></div></div>
<div class="ttc" id="aenums_8h_a896cc85ca9e90a7778d08d6080be8875_html_a896cc85ca9e90a7778d08d6080be8875aa3686831c11ddd20900d27fa62f489dd"><div class="ttname"><a href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875aa3686831c11ddd20900d27fa62f489dd">SPL_HEALOTHER</a></div><div class="ttdeci">@ SPL_HEALOTHER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02164">enums.h:2164</a></div></div>
<div class="ttc" id="aenums_8h_a2135e50f939c526eb0a4164754e6e4ff_html_a2135e50f939c526eb0a4164754e6e4ffa5bccb54408970df5ebc15a83132e8c58"><div class="ttname"><a href="enums_8h_a2135e50f939c526eb0a4164754e6e4ff.html#a2135e50f939c526eb0a4164754e6e4ffa5bccb54408970df5ebc15a83132e8c58">RSPLTYPE_CHARGES</a></div><div class="ttdeci">@ RSPLTYPE_CHARGES</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02061">enums.h:2061</a></div></div>
<div class="ttc" id="astruct_player_struct_ac8899f9784ab46f65822e446b68dfbfd_html_ac8899f9784ab46f65822e446b68dfbfd"><div class="ttname"><a href="struct_player_struct_ac8899f9784ab46f65822e446b68dfbfd.html#ac8899f9784ab46f65822e446b68dfbfd">PlayerStruct::destAction</a></div><div class="ttdeci">int destAction</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00182">structs.h:182</a></div></div>
<div class="ttc" id="astruct_spell_data_a9e3b9c2ee7bcb9a99949b57202b49520_html_a9e3b9c2ee7bcb9a99949b57202b49520"><div class="ttname"><a href="struct_spell_data_a9e3b9c2ee7bcb9a99949b57202b49520.html#a9e3b9c2ee7bcb9a99949b57202b49520">SpellData::sManaCost</a></div><div class="ttdeci">unsigned char sManaCost</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01017">structs.h:1017</a></div></div>
<div class="ttc" id="astruct_player_struct_ac72291eb8936eab4c8ca6af6a16c3876_html_ac72291eb8936eab4c8ca6af6a16c3876"><div class="ttname"><a href="struct_player_struct_ac72291eb8936eab4c8ca6af6a16c3876.html#ac72291eb8936eab4c8ca6af6a16c3876">PlayerStruct::_pMaxHPBase</a></div><div class="ttdeci">int _pMaxHPBase</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00257">structs.h:257</a></div></div>
<div class="ttc" id="aenums_8h_ac3964a518b32bf2faf3221dbe621f3ff_html_ac3964a518b32bf2faf3221dbe621f3ffa4ec028541c6cb20fa6f0f8bb283fde7d"><div class="ttname"><a href="enums_8h_ac3964a518b32bf2faf3221dbe621f3ff.html#ac3964a518b32bf2faf3221dbe621f3ffa4ec028541c6cb20fa6f0f8bb283fde7d">MIS_CBOLT</a></div><div class="ttdeci">@ MIS_CBOLT</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l01246">enums.h:1246</a></div></div>
<div class="ttc" id="astruct_player_struct_a613e8e59ddb99ccfa31408f7bfd053a7_html_a613e8e59ddb99ccfa31408f7bfd053a7"><div class="ttname"><a href="struct_player_struct_a613e8e59ddb99ccfa31408f7bfd053a7.html#a613e8e59ddb99ccfa31408f7bfd053a7">PlayerStruct::_pVar3</a></div><div class="ttdeci">int _pVar3</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00279">structs.h:279</a></div></div>
<div class="ttc" id="astruct_player_struct_a9aed7887ac4c324e5b061548bd03a5c8_html_a9aed7887ac4c324e5b061548bd03a5c8"><div class="ttname"><a href="struct_player_struct_a9aed7887ac4c324e5b061548bd03a5c8.html#a9aed7887ac4c324e5b061548bd03a5c8">PlayerStruct::WorldX</a></div><div class="ttdeci">int WorldX</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00188">structs.h:188</a></div></div>
<div class="ttc" id="astruct_player_struct_aff6ad076dce0bf6f4cb0ff4438d84a11_html_aff6ad076dce0bf6f4cb0ff4438d84a11"><div class="ttname"><a href="struct_player_struct_aff6ad076dce0bf6f4cb0ff4438d84a11.html#aff6ad076dce0bf6f4cb0ff4438d84a11">PlayerStruct::_pHPBase</a></div><div class="ttdeci">int _pHPBase</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00256">structs.h:256</a></div></div>
<div class="ttc" id="aenums_8h_a58d5b5088647ec81bd4459f05219f7af_html_a58d5b5088647ec81bd4459f05219f7afab9cc14e53520d5cf4c5425d6b0b335b0"><div class="ttname"><a href="enums_8h_a58d5b5088647ec81bd4459f05219f7af.html#a58d5b5088647ec81bd4459f05219f7afab9cc14e53520d5cf4c5425d6b0b335b0">CURSOR_HAND</a></div><div class="ttdeci">@ CURSOR_HAND</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02067">enums.h:2067</a></div></div>
<div class="ttc" id="aspells_8cpp_ab2eebff4a477b1d65d3f5e5c612a5e1c_html_ab2eebff4a477b1d65d3f5e5c612a5e1c"><div class="ttname"><a href="spells_8cpp_ab2eebff4a477b1d65d3f5e5c612a5e1c.html#ab2eebff4a477b1d65d3f5e5c612a5e1c">DoHealOther</a></div><div class="ttdeci">void DoHealOther(int pnum, int rid)</div><div class="ttdef"><b>Definition:</b> <a href="spells_8cpp_source.html#l00238">spells.cpp:238</a></div></div>
<div class="ttc" id="agamemenu_8cpp_a44d7561ccc66eabe8af107d4cd9285a8_html_a44d7561ccc66eabe8af107d4cd9285a8"><div class="ttname"><a href="gamemenu_8cpp_a44d7561ccc66eabe8af107d4cd9285a8.html#a44d7561ccc66eabe8af107d4cd9285a8">gamemenu_off</a></div><div class="ttdeci">void gamemenu_off()</div><div class="ttdef"><b>Definition:</b> <a href="gamemenu_8cpp_source.html#l00085">gamemenu.cpp:85</a></div></div>
<div class="ttc" id="aenums_8h_ac3964a518b32bf2faf3221dbe621f3ff_html_ac3964a518b32bf2faf3221dbe621f3ffa94b24381791c5f2c2c88494ace9ae6b2"><div class="ttname"><a href="enums_8h_ac3964a518b32bf2faf3221dbe621f3ff.html#ac3964a518b32bf2faf3221dbe621f3ffa94b24381791c5f2c2c88494ace9ae6b2">MIS_TOWN</a></div><div class="ttdeci">@ MIS_TOWN</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l01204">enums.h:1204</a></div></div>
<div class="ttc" id="aenums_8h_a896cc85ca9e90a7778d08d6080be8875_html_a896cc85ca9e90a7778d08d6080be8875aa34f362cdba40212026453730fd83a0f"><div class="ttname"><a href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875aa34f362cdba40212026453730fd83a0f">SPL_TOWN</a></div><div class="ttdeci">@ SPL_TOWN</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02137">enums.h:2137</a></div></div>
<div class="ttc" id="aenums_8h_a896cc85ca9e90a7778d08d6080be8875_html_a896cc85ca9e90a7778d08d6080be8875afb869a25e95ba86d727dbb0a8438cfb7"><div class="ttname"><a href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875afb869a25e95ba86d727dbb0a8438cfb7">SPL_FIREWALL</a></div><div class="ttdeci">@ SPL_FIREWALL</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02136">enums.h:2136</a></div></div>
<div class="ttc" id="agendung_8cpp_aa4d84322e040e44781630e21e7722e13_html_aa4d84322e040e44781630e21e7722e13"><div class="ttname"><a href="gendung_8cpp_aa4d84322e040e44781630e21e7722e13.html#aa4d84322e040e44781630e21e7722e13">ViewX</a></div><div class="ttdeci">int ViewX</div><div class="ttdef"><b>Definition:</b> <a href="gendung_8cpp_source.html#l00073">gendung.cpp:73</a></div></div>
<div class="ttc" id="astruct_player_struct_af0d36c529da6444a90e57f5920e78924_html_af0d36c529da6444a90e57f5920e78924"><div class="ttname"><a href="struct_player_struct_af0d36c529da6444a90e57f5920e78924.html#af0d36c529da6444a90e57f5920e78924">PlayerStruct::_pSplLvl</a></div><div class="ttdeci">char _pSplLvl[64]</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00225">structs.h:225</a></div></div>
<div class="ttc" id="aenums_8h_a2135e50f939c526eb0a4164754e6e4ff_html_a2135e50f939c526eb0a4164754e6e4ffa3d54494d4674671ceef8858ccbd2ca2c"><div class="ttname"><a href="enums_8h_a2135e50f939c526eb0a4164754e6e4ff.html#a2135e50f939c526eb0a4164754e6e4ffa3d54494d4674671ceef8858ccbd2ca2c">RSPLTYPE_SPELL</a></div><div class="ttdeci">@ RSPLTYPE_SPELL</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02059">enums.h:2059</a></div></div>
<div class="ttc" id="aplayer_8cpp_a49449be16fef6d842d9655c3af604863_html_a49449be16fef6d842d9655c3af604863"><div class="ttname"><a href="player_8cpp_a49449be16fef6d842d9655c3af604863.html#a49449be16fef6d842d9655c3af604863">ClrPlrPath</a></div><div class="ttdeci">void ClrPlrPath(int pnum)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03466">player.cpp:3466</a></div></div>
<div class="ttc" id="astruct_player_struct_ab6299798b2b5c4210a2941521207f394_html_ab6299798b2b5c4210a2941521207f394"><div class="ttname"><a href="struct_player_struct_ab6299798b2b5c4210a2941521207f394.html#ab6299798b2b5c4210a2941521207f394">PlayerStruct::_pdir</a></div><div class="ttdeci">int _pdir</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00202">structs.h:202</a></div></div>
<div class="ttc" id="astruct_player_struct_a4032bdf41e44aef36e089b2b99ec73f7_html_a4032bdf41e44aef36e089b2b99ec73f7"><div class="ttname"><a href="struct_player_struct_a4032bdf41e44aef36e089b2b99ec73f7.html#a4032bdf41e44aef36e089b2b99ec73f7">PlayerStruct::_pLevel</a></div><div class="ttdeci">char _pLevel</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00266">structs.h:266</a></div></div>
<div class="ttc" id="aitems_8cpp_a36fdaa6ee7c842af02adcffd3882ad6f_html_a36fdaa6ee7c842af02adcffd3882ad6f"><div class="ttname"><a href="items_8cpp_a36fdaa6ee7c842af02adcffd3882ad6f.html#a36fdaa6ee7c842af02adcffd3882ad6f">CalcPlrInv</a></div><div class="ttdeci">void CalcPlrInv(int p, BOOL Loadgfx)</div><div class="ttdef"><b>Definition:</b> <a href="items_8cpp_source.html#l00764">items.cpp:764</a></div></div>
<div class="ttc" id="aall_8h_html"><div class="ttname"><a href="all_8h.html">all.h</a></div></div>
<div class="ttc" id="agendung_8cpp_a1499ad2c9b7375364aaca1f278727847_html_a1499ad2c9b7375364aaca1f278727847"><div class="ttname"><a href="gendung_8cpp_a1499ad2c9b7375364aaca1f278727847.html#a1499ad2c9b7375364aaca1f278727847">ViewY</a></div><div class="ttdeci">int ViewY</div><div class="ttdef"><b>Definition:</b> <a href="gendung_8cpp_source.html#l00074">gendung.cpp:74</a></div></div>
<div class="ttc" id="aspelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f_html_ade4eb9170cd55058ea79d6dcdbdcec0f"><div class="ttname"><a href="spelldat_8cpp_ade4eb9170cd55058ea79d6dcdbdcec0f.html#ade4eb9170cd55058ea79d6dcdbdcec0f">spelldata</a></div><div class="ttdeci">DEVILUTION_BEGIN_NAMESPACE SpellData spelldata[]</div><div class="ttdoc">Data related to each spell ID.</div><div class="ttdef"><b>Definition:</b> <a href="spelldat_8cpp_source.html#l00006">spelldat.cpp:6</a></div></div>
<div class="ttc" id="amissiles_8cpp_ab43889bb4c3e155131344435c4cc4079_html_ab43889bb4c3e155131344435c4cc4079"><div class="ttname"><a href="missiles_8cpp_ab43889bb4c3e155131344435c4cc4079.html#ab43889bb4c3e155131344435c4cc4079">AddMissile</a></div><div class="ttdeci">int AddMissile(int sx, int sy, int dx, int dy, int midir, int mitype, char micaster, int id, int midam, int spllvl)</div><div class="ttdef"><b>Definition:</b> <a href="missiles_8cpp_source.html#l02455">missiles.cpp:2455</a></div></div>
<div class="ttc" id="astruct_player_struct_ae526ebcf0d3ca6439b92e2496a8b4067_html_ae526ebcf0d3ca6439b92e2496a8b4067"><div class="ttname"><a href="struct_player_struct_ae526ebcf0d3ca6439b92e2496a8b4067.html#ae526ebcf0d3ca6439b92e2496a8b4067">PlayerStruct::_pMaxMana</a></div><div class="ttdeci">int _pMaxMana</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00264">structs.h:264</a></div></div>
<div class="ttc" id="ainv_8cpp_a8c14a01e4cd01c1a2187591667993172_html_a8c14a01e4cd01c1a2187591667993172"><div class="ttname"><a href="inv_8cpp_a8c14a01e4cd01c1a2187591667993172.html#a8c14a01e4cd01c1a2187591667993172">RemoveScroll</a></div><div class="ttdeci">void RemoveScroll(int pnum)</div><div class="ttdef"><b>Definition:</b> <a href="inv_8cpp_source.html#l02008">inv.cpp:2008</a></div></div>
<div class="ttc" id="astruct_monster_struct_ae307136b9dd4b00c55caa72bbbd99257_html_ae307136b9dd4b00c55caa72bbbd99257"><div class="ttname"><a href="struct_monster_struct_ae307136b9dd4b00c55caa72bbbd99257.html#ae307136b9dd4b00c55caa72bbbd99257">MonsterStruct::_mdir</a></div><div class="ttdeci">int _mdir</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00558">structs.h:558</a></div></div>
<div class="ttc" id="atypes_8h_a7ac6b37e8709aad82caeb9b65c8b2b6f_html_a7ac6b37e8709aad82caeb9b65c8b2b6f"><div class="ttname"><a href="types_8h_a7ac6b37e8709aad82caeb9b65c8b2b6f.html#a7ac6b37e8709aad82caeb9b65c8b2b6f">DEVILUTION_END_NAMESPACE</a></div><div class="ttdeci">#define DEVILUTION_END_NAMESPACE</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00010">types.h:10</a></div></div>
<div class="ttc" id="aspells_8cpp_a7ab5b6384dccfbe8c3f91267e839c07e_html_a7ab5b6384dccfbe8c3f91267e839c07e"><div class="ttname"><a href="spells_8cpp_a7ab5b6384dccfbe8c3f91267e839c07e.html#a7ab5b6384dccfbe8c3f91267e839c07e">PlacePlayer</a></div><div class="ttdeci">static void PlacePlayer(int pnum)</div><div class="ttdef"><b>Definition:</b> <a href="spells_8cpp_source.html#l00143">spells.cpp:143</a></div></div>
<div class="ttc" id="amonster_8cpp_ac39cec74ce0be0aa4f515450883afb93_html_ac39cec74ce0be0aa4f515450883afb93"><div class="ttname"><a href="monster_8cpp_ac39cec74ce0be0aa4f515450883afb93.html#ac39cec74ce0be0aa4f515450883afb93">monster</a></div><div class="ttdeci">MonsterStruct monster[MAXMONSTERS]</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00019">monster.cpp:19</a></div></div>
<div class="ttc" id="astruct_player_struct_a7ad004ea768e63b9afb0bb2e9606382f_html_a7ad004ea768e63b9afb0bb2e9606382f"><div class="ttname"><a href="struct_player_struct_a7ad004ea768e63b9afb0bb2e9606382f.html#a7ad004ea768e63b9afb0bb2e9606382f">PlayerStruct::_pISplLvlAdd</a></div><div class="ttdeci">char _pISplLvlAdd</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00329">structs.h:329</a></div></div>
<div class="ttc" id="aenums_8h_a2135e50f939c526eb0a4164754e6e4ff_html_a2135e50f939c526eb0a4164754e6e4ffa3fb4d9a512200814473ed06e9f51c72d"><div class="ttname"><a href="enums_8h_a2135e50f939c526eb0a4164754e6e4ff.html#a2135e50f939c526eb0a4164754e6e4ffa3fb4d9a512200814473ed06e9f51c72d">RSPLTYPE_SCROLL</a></div><div class="ttdeci">@ RSPLTYPE_SCROLL</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02060">enums.h:2060</a></div></div>
<div class="ttc" id="astruct_player_struct_abf07e2fd0cc130d86b5b69a177d93c13_html_abf07e2fd0cc130d86b5b69a177d93c13"><div class="ttname"><a href="struct_player_struct_abf07e2fd0cc130d86b5b69a177d93c13.html#abf07e2fd0cc130d86b5b69a177d93c13">PlayerStruct::_pInvincible</a></div><div class="ttdeci">BOOLEAN _pInvincible</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00234">structs.h:234</a></div></div>
<div class="ttc" id="aenums_8h_a2135e50f939c526eb0a4164754e6e4ff_html_a2135e50f939c526eb0a4164754e6e4ffa00a2f0e75fbaea8654865ac0a002115d"><div class="ttname"><a href="enums_8h_a2135e50f939c526eb0a4164754e6e4ff.html#a2135e50f939c526eb0a4164754e6e4ffa00a2f0e75fbaea8654865ac0a002115d">RSPLTYPE_INVALID</a></div><div class="ttdeci">@ RSPLTYPE_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02062">enums.h:2062</a></div></div>
<div class="ttc" id="aplayer_8cpp_a43aed1aba909ddcdbef5156cf8621f1a_html_a43aed1aba909ddcdbef5156cf8621f1a"><div class="ttname"><a href="player_8cpp_a43aed1aba909ddcdbef5156cf8621f1a.html#a43aed1aba909ddcdbef5156cf8621f1a">StartStand</a></div><div class="ttdeci">void StartStand(int pnum, int dir)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01056">player.cpp:1056</a></div></div>
<div class="ttc" id="aenums_8h_ac3964a518b32bf2faf3221dbe621f3ff_html_ac3964a518b32bf2faf3221dbe621f3ffaa27dc82bab48e6d51c68986773293a37"><div class="ttname"><a href="enums_8h_ac3964a518b32bf2faf3221dbe621f3ff.html#ac3964a518b32bf2faf3221dbe621f3ffaa27dc82bab48e6d51c68986773293a37">MIS_RESURRECTBEAM</a></div><div class="ttdeci">@ MIS_RESURRECTBEAM</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l01256">enums.h:1256</a></div></div>
<div class="ttc" id="aenums_8h_a896cc85ca9e90a7778d08d6080be8875_html_a896cc85ca9e90a7778d08d6080be8875af58399b94d38133457ed029bd49d66f4"><div class="ttname"><a href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875af58399b94d38133457ed029bd49d66f4">SPL_CBOLT</a></div><div class="ttdeci">@ SPL_CBOLT</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02160">enums.h:2160</a></div></div>
<div class="ttc" id="aenums_8h_a2135e50f939c526eb0a4164754e6e4ff_html_a2135e50f939c526eb0a4164754e6e4ffade40289cd966fbeaf8ddc20e258456a4"><div class="ttname"><a href="enums_8h_a2135e50f939c526eb0a4164754e6e4ff.html#a2135e50f939c526eb0a4164754e6e4ffade40289cd966fbeaf8ddc20e258456a4">RSPLTYPE_SKILL</a></div><div class="ttdeci">@ RSPLTYPE_SKILL</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02058">enums.h:2058</a></div></div>
<div class="ttc" id="acursor_8cpp_a1b9cf6ebbcef674ef1c4c1c8744ae4f9_html_a1b9cf6ebbcef674ef1c4c1c8744ae4f9"><div class="ttname"><a href="cursor_8cpp_a1b9cf6ebbcef674ef1c4c1c8744ae4f9.html#a1b9cf6ebbcef674ef1c4c1c8744ae4f9">NewCursor</a></div><div class="ttdeci">void NewCursor(int i)</div><div class="ttdef"><b>Definition:</b> <a href="cursor_8cpp_source.html#l00107">cursor.cpp:107</a></div></div>
<div class="ttc" id="aplayer_8cpp_ad1132c63010bc44a380ac35d0514ab0e_html_ad1132c63010bc44a380ac35d0514ab0e"><div class="ttname"><a href="player_8cpp_ad1132c63010bc44a380ac35d0514ab0e.html#ad1132c63010bc44a380ac35d0514ab0e">plrxoff2</a></div><div class="ttdeci">int plrxoff2[9]</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00034">player.cpp:34</a></div></div>
<div class="ttc" id="aenums_8h_a896cc85ca9e90a7778d08d6080be8875_html_a896cc85ca9e90a7778d08d6080be8875a1d736001b0cfffef78cf6b20e44c31c2"><div class="ttname"><a href="enums_8h_a896cc85ca9e90a7778d08d6080be8875.html#a896cc85ca9e90a7778d08d6080be8875a1d736001b0cfffef78cf6b20e44c31c2">SPL_HEAL</a></div><div class="ttdeci">@ SPL_HEAL</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02132">enums.h:2132</a></div></div>
<div class="ttc" id="astruct_player_struct_a1029ffe8678ae49d980dc8778ed0f590_html_a1029ffe8678ae49d980dc8778ed0f590"><div class="ttname"><a href="struct_player_struct_a1029ffe8678ae49d980dc8778ed0f590.html#a1029ffe8678ae49d980dc8778ed0f590">PlayerStruct::_pMaxManaBase</a></div><div class="ttdeci">int _pMaxManaBase</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00262">structs.h:262</a></div></div>
<div class="ttc" id="amissiles_8cpp_a78e232f1263e0ff641e5e108e7ddae01_html_a78e232f1263e0ff641e5e108e7ddae01"><div class="ttname"><a href="missiles_8cpp_a78e232f1263e0ff641e5e108e7ddae01.html#a78e232f1263e0ff641e5e108e7ddae01">GetSpellLevel</a></div><div class="ttdeci">int GetSpellLevel(int id, int sn)</div><div class="ttdef"><b>Definition:</b> <a href="missiles_8cpp_source.html#l00249">missiles.cpp:249</a></div></div>
<div class="ttc" id="aspells_8cpp_a511a7467d83e97c8e3db14f78620b732_html_a511a7467d83e97c8e3db14f78620b732"><div class="ttname"><a href="spells_8cpp_a511a7467d83e97c8e3db14f78620b732.html#a511a7467d83e97c8e3db14f78620b732">CheckSpell</a></div><div class="ttdeci">BOOL CheckSpell(int id, int sn, char st, BOOL manaonly)</div><div class="ttdef"><b>Definition:</b> <a href="spells_8cpp_source.html#l00081">spells.cpp:81</a></div></div>
<div class="ttc" id="aspells_8cpp_a4b5bdca06892b509461c2e3f3475fd9f_html_a4b5bdca06892b509461c2e3f3475fd9f"><div class="ttname"><a href="spells_8cpp_a4b5bdca06892b509461c2e3f3475fd9f.html#a4b5bdca06892b509461c2e3f3475fd9f">DoResurrect</a></div><div class="ttdeci">void DoResurrect(int pnum, int rid)</div><div class="ttdef"><b>Definition:</b> <a href="spells_8cpp_source.html#l00193">spells.cpp:193</a></div></div>
<div class="ttc" id="astruct_spell_data_a42cf8671e395ea52538e71b26643f928_html_a42cf8671e395ea52538e71b26643f928"><div class="ttname"><a href="struct_spell_data_a42cf8671e395ea52538e71b26643f928.html#a42cf8671e395ea52538e71b26643f928">SpellData::sMissiles</a></div><div class="ttdeci">unsigned char sMissiles[3]</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01027">structs.h:1027</a></div></div>
<div class="ttc" id="astruct_spell_data_a0730e1655711f84a308ac0ea6094c676_html_a0730e1655711f84a308ac0ea6094c676"><div class="ttname"><a href="struct_spell_data_a0730e1655711f84a308ac0ea6094c676.html#a0730e1655711f84a308ac0ea6094c676">SpellData::sMinMana</a></div><div class="ttdeci">unsigned char sMinMana</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01029">structs.h:1029</a></div></div>
<div class="ttc" id="aspells_8cpp_a49bffabdd9106638a08de4291ea7b9da_html_a49bffabdd9106638a08de4291ea7b9da"><div class="ttname"><a href="spells_8cpp_a49bffabdd9106638a08de4291ea7b9da.html#a49bffabdd9106638a08de4291ea7b9da">GetManaAmount</a></div><div class="ttdeci">DEVILUTION_BEGIN_NAMESPACE int GetManaAmount(int id, int sn)</div><div class="ttdef"><b>Definition:</b> <a href="spells_8cpp_source.html#l00005">spells.cpp:5</a></div></div>
<div class="ttc" id="astruct_spell_data_a86831f8bc6a7dba41d992113017bb1f9_html_a86831f8bc6a7dba41d992113017bb1f9"><div class="ttname"><a href="struct_spell_data_a86831f8bc6a7dba41d992113017bb1f9.html#a86831f8bc6a7dba41d992113017bb1f9">SpellData::sManaAdj</a></div><div class="ttdeci">unsigned char sManaAdj</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01028">structs.h:1028</a></div></div>
<div class="ttc" id="aplayer_8cpp_aa35efb91cea373f099ba55c14b0a707b_html_aa35efb91cea373f099ba55c14b0a707b"><div class="ttname"><a href="player_8cpp_aa35efb91cea373f099ba55c14b0a707b.html#aa35efb91cea373f099ba55c14b0a707b">myplr</a></div><div class="ttdeci">int myplr</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00009">player.cpp:9</a></div></div>
<div class="ttc" id="aengine_8cpp_a65a409ff0f68e49faff78affd2a1bf91_html_a65a409ff0f68e49faff78affd2a1bf91"><div class="ttname"><a href="engine_8cpp_a65a409ff0f68e49faff78affd2a1bf91.html#a65a409ff0f68e49faff78affd2a1bf91">random_</a></div><div class="ttdeci">int random_(BYTE idx, int v)</div><div class="ttdoc">Main RNG function.</div><div class="ttdef"><b>Definition:</b> <a href="engine_8cpp_source.html#l00752">engine.cpp:752</a></div></div>
<div class="ttc" id="astruct_player_struct_ab2947fbaf11cb3095bf9de40e40922b0_html_ab2947fbaf11cb3095bf9de40e40922b0"><div class="ttname"><a href="struct_player_struct_ab2947fbaf11cb3095bf9de40e40922b0.html#ab2947fbaf11cb3095bf9de40e40922b0">PlayerStruct::_pHitPoints</a></div><div class="ttdeci">int _pHitPoints</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00258">structs.h:258</a></div></div>
<div class="ttc" id="aspells_8cpp_a3bad0c5aeab4bbb91828710278a23e50_html_a3bad0c5aeab4bbb91828710278a23e50"><div class="ttname"><a href="spells_8cpp_a3bad0c5aeab4bbb91828710278a23e50.html#a3bad0c5aeab4bbb91828710278a23e50">UseMana</a></div><div class="ttdeci">void UseMana(int id, int sn)</div><div class="ttdef"><b>Definition:</b> <a href="spells_8cpp_source.html#l00050">spells.cpp:50</a></div></div>
<div class="ttc" id="aenums_8h_a8ee116187ae3f3e815df80437d3888f5_html_a8ee116187ae3f3e815df80437d3888f5a91ff3fc37cabd8b1bd2b9f27d90bf3a8"><div class="ttname"><a href="enums_8h_a8ee116187ae3f3e815df80437d3888f5.html#a8ee116187ae3f3e815df80437d3888f5a91ff3fc37cabd8b1bd2b9f27d90bf3a8">PC_WARRIOR</a></div><div class="ttdeci">@ PC_WARRIOR</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02706">enums.h:2706</a></div></div>
<div class="ttc" id="acontrol_8cpp_af5e0480b5bc83fb6a24491e31e1bdeec_html_af5e0480b5bc83fb6a24491e31e1bdeec"><div class="ttname"><a href="control_8cpp_af5e0480b5bc83fb6a24491e31e1bdeec.html#af5e0480b5bc83fb6a24491e31e1bdeec">drawmanaflag</a></div><div class="ttdeci">BOOL drawmanaflag</div><div class="ttdef"><b>Definition:</b> <a href="control_8cpp_source.html#l00024">control.cpp:24</a></div></div>
<div class="ttc" id="aenums_8h_a8ee116187ae3f3e815df80437d3888f5_html_a8ee116187ae3f3e815df80437d3888f5ac59d4aac6855824f812447d70cca7991"><div class="ttname"><a href="enums_8h_a8ee116187ae3f3e815df80437d3888f5.html#a8ee116187ae3f3e815df80437d3888f5ac59d4aac6855824f812447d70cca7991">PC_ROGUE</a></div><div class="ttdeci">@ PC_ROGUE</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02707">enums.h:2707</a></div></div>
<div class="ttc" id="acursor_8cpp_ae390fe49a102340ffe3244dfa7b217ef_html_ae390fe49a102340ffe3244dfa7b217ef"><div class="ttname"><a href="cursor_8cpp_ae390fe49a102340ffe3244dfa7b217ef.html#ae390fe49a102340ffe3244dfa7b217ef">pcurs</a></div><div class="ttdeci">int pcurs</div><div class="ttdef"><b>Definition:</b> <a href="cursor_8cpp_source.html#l00027">cursor.cpp:27</a></div></div>
<div class="ttc" id="anamespace_d_e_v_i_l_u_t_i_o_n___b_e_g_i_n___n_a_m_e_s_p_a_c_e_html"><div class="ttname"><a href="namespace_d_e_v_i_l_u_t_i_o_n___b_e_g_i_n___n_a_m_e_s_p_a_c_e.html">DEVILUTION_BEGIN_NAMESPACE</a></div><div class="ttdef"><b>Definition:</b> <a href="sha_8cpp_source.html#l00010">sha.cpp:10</a></div></div>
<div class="ttc" id="aspells_8cpp_aee54ff50ef1fe1f953719a2bb3b0b2f3_html_aee54ff50ef1fe1f953719a2bb3b0b2f3"><div class="ttname"><a href="spells_8cpp_aee54ff50ef1fe1f953719a2bb3b0b2f3.html#aee54ff50ef1fe1f953719a2bb3b0b2f3">CastSpell</a></div><div class="ttdeci">void CastSpell(int id, int spl, int sx, int sy, int dx, int dy, int caster, int spllvl)</div><div class="ttdef"><b>Definition:</b> <a href="spells_8cpp_source.html#l00106">spells.cpp:106</a></div></div>
<div class="ttc" id="aenums_8h_ac3964a518b32bf2faf3221dbe621f3ff_html_ac3964a518b32bf2faf3221dbe621f3ffa2dccac21169edde07c403dc1bf66b398"><div class="ttname"><a href="enums_8h_ac3964a518b32bf2faf3221dbe621f3ff.html#ac3964a518b32bf2faf3221dbe621f3ffa2dccac21169edde07c403dc1bf66b398">MIS_ARROW</a></div><div class="ttdeci">@ MIS_ARROW</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l01194">enums.h:1194</a></div></div>
<div class="ttc" id="aenums_8h_a15b03b1d71b001298165979475b1aa62_html_a15b03b1d71b001298165979475b1aa62abb516226f3df30c332c998da773f56db"><div class="ttname"><a href="enums_8h_a15b03b1d71b001298165979475b1aa62.html#a15b03b1d71b001298165979475b1aa62abb516226f3df30c332c998da773f56db">ACTION_NONE</a></div><div class="ttdeci">@ ACTION_NONE</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02906">enums.h:2906</a></div></div>
<div class="ttc" id="agendung_8cpp_ad83764377123e25492c6e1d58eec97bc_html_ad83764377123e25492c6e1d58eec97bc"><div class="ttname"><a href="gendung_8cpp_ad83764377123e25492c6e1d58eec97bc.html#ad83764377123e25492c6e1d58eec97bc">dPlayer</a></div><div class="ttdeci">char dPlayer[MAXDUNX][MAXDUNY]</div><div class="ttdef"><b>Definition:</b> <a href="gendung_8cpp_source.html#l00049">gendung.cpp:49</a></div></div>
<div class="ttc" id="acontrol_8cpp_a35e4d35ac25ed81b988292edb351b3f7_html_a35e4d35ac25ed81b988292edb351b3f7"><div class="ttname"><a href="control_8cpp_a35e4d35ac25ed81b988292edb351b3f7.html#a35e4d35ac25ed81b988292edb351b3f7">drawhpflag</a></div><div class="ttdeci">BOOL drawhpflag</div><div class="ttdef"><b>Definition:</b> <a href="control_8cpp_source.html#l00014">control.cpp:14</a></div></div>
<div class="ttc" id="astruct_player_struct_adaeb034998fe856d472066051f7051ec_html_adaeb034998fe856d472066051f7051ec"><div class="ttname"><a href="struct_player_struct_adaeb034998fe856d472066051f7051ec.html#adaeb034998fe856d472066051f7051ec">PlayerStruct::_pmode</a></div><div class="ttdeci">int _pmode</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00179">structs.h:179</a></div></div>
<div class="ttc" id="astruct_player_struct_a3334296783d36bc7f0760aaa0c9cacd0_html_a3334296783d36bc7f0760aaa0c9cacd0"><div class="ttname"><a href="struct_player_struct_a3334296783d36bc7f0760aaa0c9cacd0.html#a3334296783d36bc7f0760aaa0c9cacd0">PlayerStruct::WorldY</a></div><div class="ttdeci">int WorldY</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00189">structs.h:189</a></div></div>
<div class="ttc" id="aenums_8h_aba95c76d44ba9d1691de48ca32820d0b_html_aba95c76d44ba9d1691de48ca32820d0bae653ce666d6a2083ce9a1a14d9509863"><div class="ttname"><a href="enums_8h_aba95c76d44ba9d1691de48ca32820d0b.html#aba95c76d44ba9d1691de48ca32820d0bae653ce666d6a2083ce9a1a14d9509863">PM_STAND</a></div><div class="ttdeci">@ PM_STAND</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l02043">enums.h:2043</a></div></div>
<div class="ttc" id="aplayer_8cpp_aa889fee7d63cdb7a9da7475428390644_html_aa889fee7d63cdb7a9da7475428390644"><div class="ttname"><a href="player_8cpp_aa889fee7d63cdb7a9da7475428390644.html#aa889fee7d63cdb7a9da7475428390644">plryoff2</a></div><div class="ttdeci">int plryoff2[9]</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00035">player.cpp:35</a></div></div>
<div class="ttc" id="aplayer_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c_html_a982650ede4ca4d2d3df5f344e7c73a6c"><div class="ttname"><a href="player_8cpp_a982650ede4ca4d2d3df5f344e7c73a6c.html#a982650ede4ca4d2d3df5f344e7c73a6c">plr</a></div><div class="ttdeci">PlayerStruct plr[MAX_PLRS]</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00010">player.cpp:10</a></div></div>
<div class="ttc" id="ainv_8cpp_ad11ef71bb215c283cd4bb25df35c267f_html_ad11ef71bb215c283cd4bb25df35c267f"><div class="ttname"><a href="inv_8cpp_ad11ef71bb215c283cd4bb25df35c267f.html#ad11ef71bb215c283cd4bb25df35c267f">UseStaffCharge</a></div><div class="ttdeci">void UseStaffCharge(int pnum)</div><div class="ttdef"><b>Definition:</b> <a href="inv_8cpp_source.html#l02059">inv.cpp:2059</a></div></div>
<div class="ttc" id="aplayer_8cpp_a7ac47f277cbf5a38a85cab4f17445a88_html_a7ac47f277cbf5a38a85cab4f17445a88"><div class="ttname"><a href="player_8cpp_a7ac47f277cbf5a38a85cab4f17445a88.html#a7ac47f277cbf5a38a85cab4f17445a88">deathflag</a></div><div class="ttdeci">BOOL deathflag</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00013">player.cpp:13</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
